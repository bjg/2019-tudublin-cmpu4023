<h1><a id="2__Authentication_0"></a>2 - Authentication</h1>
<h1><a id="Routes_1"></a>Routes</h1>
<pre><code>/       Index route, blocked by authorization
/login  Login with correct details to get a jwt
/hmac   Where hmac verification takes place
</code></pre>
<h2><a id="Index__login_6"></a>Index &amp; login</h2>
<p>Use create.sql to setup the db and insert a user with the email [doop@doop.com] and password [password]. Method.js contains the code for verifying the token</p>
<pre><code>How to verify that the index needs a jwt to access:
curl -X GET \
  http://localhost:3000/ \
  -H 'cache-control: no-cache'

How to login:
    curl -X POST \
      http://localhost:3000/login/ \
      -H 'Content-Type: application/x-www-form-urlencoded' \
      -H 'cache-control: no-cache' \
      -d 'email=doop%40doop.com&amp;password=password'

How to verify jwt works:
curl -X GET \
  http://localhost:3000/ \
  -H 'Authorization: Bearer [KEY GENERATED FROM PREVIOUS REQUEST' \
  -H 'Content-Type: application/x-www-form-urlencoded' \
  -H 'cache-control: no-cache'
</code></pre>
<h2><a id="HMAC_28"></a>HMAC</h2>
<p>Access and Secret key were radomly generated by creating a list of 0’s and 1’s either 180 or 320 long and then converted to hex. They will be inserted into the database when create.sql is run.</p>
<pre><code>access_key - 4313396EE85C7E8466883FE4A39BEDC0F0EE1C44BA123
secret_key - 1847AB149BB3BDE88F33865DDF5BAEE6C2A0B9261DD2D39D53B1931F03486EEA785783239913FADD
</code></pre>
<p>Run the server with ‘nodemon start’ or ‘npm start’ and then use ‘node client.js’ to make a request. The client file also has invalid keys that you can mix and match with by uncommenting them and commenting out the real keys.</p>